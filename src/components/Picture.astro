---
import config from "../config";
const {pic} = Astro.props;

const {image, userName, hashtags, userId} = pic;

function replaceHashtagsWithLinks(text) {
  return text.replace(/#(\w+)/g, '<a class="" href="/hashtag/$1">#$1</a>');
}
---

<div
  class="mx-auto w-fit rounded-md border border-neutral-400/50 shadow-md shadow-neutral-500 p-2"
>
  <div>
    <img
      src={`${config.IMG_URL}/${image}`}
      alt={image}
      class="rounded-md max-w-96"
    />
    <h2 class="">
      <a class="text-xs hover:font-bold" href={"/user/" + userName}
        >@{userName}</a
      >
    </h2>
  </div>

  <h1
    class="text-center shadow-md m-2 border border-neutral-400/50 shadow-neutral-400 hover:shadow-inner hover:shadow-neutral-500 w-fit rounded-lg p-2"
  >
    <Fragment set:html={replaceHashtagsWithLinks(hashtags)} />
  </h1>

  <div class="flex-row"></div>
</div>
